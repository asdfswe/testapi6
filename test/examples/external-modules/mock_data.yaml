
- Require:
    # root is empty: It auto load from "npm" or "yarn"
    # root is "npm": It auto load from npm global
    # root is "yarn": It auto load from yarn global
    # root is specific
    # Install: yarn global add testapi6-mockapi
    root: yarn
    modules:
      - testapi6-mockapi

- Group:
    title: Build mock server with HTTP scheme
    steps:
      - Exec:
          disabled: true
          title: Change DNS to server
          args:
            - sudo
            - --
            - sh
            - -c
            - "echo '127.0.0.1 fakedns.com' >> /etc/hosts"
      - MockApi:
          title: Test service
          routers:
            - root: assets
            - method: GET
              path: /test/:name
              data:
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
                - name: 1
      - Exec:
          disabled: true
          title: Clear DNS to server
          args:
            - sudo
            - --
            - sh
            - -c
            - sed -i '' '/fakedns.com/d' '/etc/hosts'

